/***********************************************************
 * File generated by the HALCON-Compiler hcomp version 23.11
 * Usage: Interface to C++
 *
 * Software by: MVTec Software GmbH, www.mvtec.com
 ***********************************************************/


#ifndef __APPLE__
#  include "halconcpp/HalconCpp.h"
#  include "halconcpp/HalconAPI.h"
#else
#  ifndef HC_LARGE_IMAGES
#    include <HALCONCpp/HalconCpp.h>
#    include <HALCONCpp/HalconAPI.h>
#  else
#    include <HALCONCppxl/HalconCpp.h>
#    include <HALCONCppxl/HalconAPI.h>
#  endif
#endif

#include "HCPPHalcon_Hik.h"

extern "C" HUserImport int HHalcon_HikGetOffset();

int offset = -1;

using namespace HalconCpp;

Hproc_handle PreCallUser(int proc_index_local)
{
  if (offset < 0)
  {
    /* First use of this extension package, query my offset */
    offset = HHalcon_HikGetOffset();
    if (offset < 0)
    {
      /* HALCON library not initialized (extension package as first usage). */
      /* Trigger initialization by touching system operator and try again. */
      Hproc_handle tmp = HalconAPI::PreCall(0);
      HalconAPI::PostCall(tmp);
      offset = HHalcon_HikGetOffset();
      if (offset < 0)
      {
        /* Ok, so something is *really* wrong */
        HOperatorException::Throw(proc_index_local,H_ERR_UEXTNI);
      }
    }
  }
  return HalconAPI::PreCall(offset + proc_index_local);
}




#ifdef HikOpenCaptureCard
# error An existing macro name conflicts with HikOpenCaptureCard
#endif
HUserExport void HalconCpp::HikOpenCaptureCard(const HTuple& nDeviceIndex, const HTuple& Name)
{
  Hproc_handle proc = PreCallUser(0);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::StoreEnc(proc,1,Name);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

#ifdef HikSetBoolParameters
# error An existing macro name conflicts with HikSetBoolParameters
#endif
HUserExport void HalconCpp::HikSetBoolParameters(const HTuple& nDeviceIndex, const HTuple& strKey, const HTuple& nValue)
{
  Hproc_handle proc = PreCallUser(1);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::StoreEnc(proc,1,strKey);
  HalconAPI::Store(proc,2,nValue);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

#ifdef HikOpenCamera
# error An existing macro name conflicts with HikOpenCamera
#endif
HUserExport void HalconCpp::HikOpenCamera(const HTuple& Name, const HTuple& TimeSharingFlicker, const HTuple& QueueHandle, HTuple* CameraHandle)
{
  Hproc_handle proc = PreCallUser(2);
  HalconAPI::StoreEnc(proc,0,Name);
  HalconAPI::Store(proc,1,TimeSharingFlicker);
  HalconAPI::Store(proc,2,QueueHandle);
  HalconAPI::InitOutp(proc,0);
  HalconAPI::CallProcedure(proc);
  HalconAPI::Load(proc,0,CameraHandle);
  HalconAPI::PostCall(proc);
}

#ifdef HikSetEnumsParameters
# error An existing macro name conflicts with HikSetEnumsParameters
#endif
HUserExport void HalconCpp::HikSetEnumsParameters(const HTuple& nDeviceIndex, const HTuple& strKey, const HTuple& nValue)
{
  Hproc_handle proc = PreCallUser(3);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::StoreEnc(proc,1,strKey);
  HalconAPI::Store(proc,2,nValue);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

#ifdef HikSetIntParameters
# error An existing macro name conflicts with HikSetIntParameters
#endif
HUserExport void HalconCpp::HikSetIntParameters(const HTuple& nDeviceIndex, const HTuple& strKey, const HTuple& nValue)
{
  Hproc_handle proc = PreCallUser(4);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::StoreEnc(proc,1,strKey);
  HalconAPI::Store(proc,2,nValue);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

#ifdef HikSetCommandParameters
# error An existing macro name conflicts with HikSetCommandParameters
#endif
HUserExport void HalconCpp::HikSetCommandParameters(const HTuple& nDeviceIndex, const HTuple& strKey)
{
  Hproc_handle proc = PreCallUser(5);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::StoreEnc(proc,1,strKey);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

#ifdef HikSetfloatParameters
# error An existing macro name conflicts with HikSetfloatParameters
#endif
HUserExport void HalconCpp::HikSetfloatParameters(const HTuple& nDeviceIndex, const HTuple& strKey, const HTuple& fValue)
{
  Hproc_handle proc = PreCallUser(6);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::StoreEnc(proc,1,strKey);
  HalconAPI::Store(proc,2,fValue);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

#ifdef HikStartPhotograph
# error An existing macro name conflicts with HikStartPhotograph
#endif
HUserExport void HalconCpp::HikStartPhotograph(const HTuple& nDeviceIndex)
{
  Hproc_handle proc = PreCallUser(7);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

#ifdef HikCloseCamera
# error An existing macro name conflicts with HikCloseCamera
#endif
HUserExport void HalconCpp::HikCloseCamera(const HTuple& nDeviceIndex)
{
  Hproc_handle proc = PreCallUser(8);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

#ifdef HikStopPhotograph
# error An existing macro name conflicts with HikStopPhotograph
#endif
HUserExport void HalconCpp::HikStopPhotograph(const HTuple& nDeviceIndex)
{
  Hproc_handle proc = PreCallUser(9);
  HalconAPI::Store(proc,0,nDeviceIndex);
  HalconAPI::CallProcedure(proc);
  HalconAPI::PostCall(proc);
}

